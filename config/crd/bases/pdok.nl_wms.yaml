apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.17.1
  creationTimestamp: null
  name: wms.pdok.nl
spec:
  group: pdok.nl
  names:
    kind: WMS
    listKind: WMSList
    plural: wms
    singular: wms
  scope: Namespaced
  versions:
    - name: v2beta1
      schema:
        openAPIV3Schema:
          description: WMS is the Schema for the wms API.
          properties:
            apiVersion:
              description: |-
                APIVersion defines the versioned schema of this representation of an object.
                Servers should convert recognized schemas to the latest internal value, and
                may reject unrecognized values.
                More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
              type: string
            kind:
              description: |-
                Kind is a string value representing the REST resource this object represents.
                Servers may infer this from the endpoint the client submits requests to.
                Cannot be updated.
                In CamelCase.
                More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
              type: string
            metadata:
              type: object
            spec:
              description: WMSSpec is the struct for all fields defined in the WMS CRD
              properties:
                general:
                  description: General is the struct with all generic fields for the crds
                  properties:
                    dataVersion:
                      type: string
                    dataset:
                      type: string
                    datasetOwner:
                      type: string
                    serviceVersion:
                      type: string
                    theme:
                      type: string
                  required:
                    - dataset
                    - datasetOwner
                  type: object
                kubernetes:
                  description: Kubernetes is the struct with all fields that can be defined in kubernetes fields in the crds
                  properties:
                    autoscaling:
                      description: Autoscaling is the struct with all fields to configure autoscalers for the crs
                      properties:
                        averageCpuUtilization:
                          type: integer
                        maxReplicas:
                          type: integer
                        minReplicas:
                          type: integer
                      type: object
                    healthCheck:
                      description: HealthCheck is the struct with all fields to configure healthchecks for the crs
                      properties:
                        boundingbox:
                          type: string
                        mimetype:
                          type: string
                        querystring:
                          type: string
                      type: object
                    lifecycle:
                      description: Lifecycle is the struct with the fields to configure lifecycle settings for the resources
                      properties:
                        ttlInDays:
                          type: integer
                      type: object
                    resources:
                      description: ResourceRequirements describes the compute resource requirements.
                      properties:
                        claims:
                          description: |-
                            Claims lists the names of resources, defined in spec.resourceClaims,
                            that are used by this container.

                            This is an alpha field and requires enabling the
                            DynamicResourceAllocation feature gate.

                            This field is immutable. It can only be set for containers.
                          items:
                            description: ResourceClaim references one entry in PodSpec.ResourceClaims.
                            properties:
                              name:
                                description: |-
                                  Name must match the name of one entry in pod.spec.resourceClaims of
                                  the Pod where this field is used. It makes that resource available
                                  inside a container.
                                type: string
                              request:
                                description: |-
                                  Request is the name chosen for a request in the referenced claim.
                                  If empty, everything from the claim is made available, otherwise
                                  only the result of this request.
                                type: string
                            required:
                              - name
                            type: object
                          type: array
                          x-kubernetes-list-map-keys:
                            - name
                          x-kubernetes-list-type: map
                        limits:
                          additionalProperties:
                            anyOf:
                              - type: integer
                              - type: string
                            pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                            x-kubernetes-int-or-string: true
                          description: |-
                            Limits describes the maximum amount of compute resources allowed.
                            More info: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/
                          type: object
                        requests:
                          additionalProperties:
                            anyOf:
                              - type: integer
                              - type: string
                            pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                            x-kubernetes-int-or-string: true
                          description: |-
                            Requests describes the minimum amount of compute resources required.
                            If Requests is omitted for a container, it defaults to Limits if that is explicitly specified,
                            otherwise to an implementation-defined value. Requests cannot exceed Limits.
                            More info: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/
                          type: object
                      type: object
                  type: object
                options:
                  description: WMSWFSOptions is the struct with options available in the operator
                  properties:
                    automaticCasing:
                      default: true
                      type: boolean
                    disableWebserviceProxy:
                      type: boolean
                    includeIngress:
                      default: true
                      type: boolean
                    prefetchData:
                      default: true
                      type: boolean
                    rewriteGroupToDataLayers:
                      type: boolean
                    validateChildStyleNameEqual:
                      type: boolean
                    validateRequests:
                      default: true
                      type: boolean
                  required:
                    - automaticCasing
                    - includeIngress
                  type: object
                service:
                  description: WMSService is the struct for all service level fields
                  properties:
                    abstract:
                      type: string
                    accessConstraints:
                      default: https://creativecommons.org/publicdomain/zero/1.0/deed.nl
                      type: string
                    authority:
                      description: Authority is a struct for the authority fields in WMS and WFS crds
                      properties:
                        name:
                          type: string
                        url:
                          type: string
                      required:
                        - name
                        - url
                      type: object
                    dataEPSG:
                      type: string
                    defResolution:
                      type: integer
                    extent:
                      type: string
                    inspire:
                      type: boolean
                    keywords:
                      items:
                        type: string
                      type: array
                    layers:
                      items:
                        description: WMSLayer is the struct for all layer level fields
                        properties:
                          abstract:
                            type: string
                          data:
                            description: Data is a struct for the data field for a WMSLayer or WFS FeatureType
                            properties:
                              gpkg:
                                description: GPKG is a struct for the gpkg field for a WMSLayer or WFS FeatureType
                                properties:
                                  aliases:
                                    additionalProperties:
                                      type: string
                                    description: In a new version Aliases should become part of Columns
                                    type: object
                                  blobKey:
                                    type: string
                                  columns:
                                    items:
                                      type: string
                                    type: array
                                  geometryType:
                                    type: string
                                  table:
                                    type: string
                                required:
                                  - blobKey
                                  - columns
                                  - geometryType
                                  - table
                                type: object
                              postgis:
                                description: |-
                                  Postgis is a struct for the Postgis db config for a WMSLayer or WFS FeatureType
                                  connection details are passed through the environment
                                properties:
                                  aliases:
                                    additionalProperties:
                                      type: string
                                    description: In a new version Aliases should become part of Columns
                                    type: object
                                  columns:
                                    items:
                                      type: string
                                    type: array
                                  geometryType:
                                    type: string
                                  table:
                                    type: string
                                required:
                                  - columns
                                  - geometryType
                                  - table
                                type: object
                              tif:
                                description: Tif is a struct for the Tif field for a WMSLayer
                                properties:
                                  blobKey:
                                    type: string
                                  getFeatureInfoIncludesClass:
                                    type: boolean
                                  offsite:
                                    type: string
                                  resample:
                                    type: string
                                required:
                                  - blobKey
                                type: object
                            type: object
                          datasetMetadataIdentifier:
                            type: string
                          extent:
                            type: string
                          group:
                            type: string
                          keywords:
                            items:
                              type: string
                            type: array
                          labelNoClip:
                            type: boolean
                          maxScale:
                            type: number
                          minScale:
                            type: number
                          name:
                            type: string
                          sourceMetadataIdentifier:
                            type: string
                          styles:
                            items:
                              description: Style is the struct for all style level fields
                              properties:
                                abstract:
                                  type: string
                                legendFile:
                                  description: LegendFile is the struct containing the location of the legendfile
                                  properties:
                                    blobKey:
                                      type: string
                                  required:
                                    - blobKey
                                  type: object
                                name:
                                  type: string
                                title:
                                  type: string
                                visualization:
                                  type: string
                              required:
                                - name
                              type: object
                            type: array
                          title:
                            type: string
                          visible:
                            type: boolean
                        required:
                          - name
                          - styles
                        type: object
                      type: array
                    mapfile:
                      description: Mapfile contains the ConfigMapKeyRef containing a mapfile
                      properties:
                        configMapKeyRef:
                          description: Selects a key from a ConfigMap.
                          properties:
                            key:
                              description: The key to select.
                              type: string
                            name:
                              default: ""
                              description: |-
                                Name of the referent.
                                This field is effectively required, but due to backwards compatibility is
                                allowed to be empty. Instances of this type with an empty value here are
                                almost certainly wrong.
                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                              type: string
                            optional:
                              description: Specify whether the ConfigMap or its key must be defined
                              type: boolean
                          required:
                            - key
                          type: object
                          x-kubernetes-map-type: atomic
                      required:
                        - configMapKeyRef
                      type: object
                    maxSize:
                      type: number
                    metadataIdentifier:
                      type: string
                    resolution:
                      type: integer
                    stylingAssets:
                      description: StylingAssets is the struct containing the location of styling assets
                      properties:
                        blobKeys:
                          items:
                            type: string
                          type: array
                        configMapRefs:
                          items:
                            description: |-
                              ConfigMapRef contains all the config map name and all keys in that mapserver that are relevant
                              the Keys can be empty, so that the v1 WMS can convert to the v2beta1 WMS
                            properties:
                              keys:
                                items:
                                  type: string
                                type: array
                              name:
                                type: string
                            required:
                              - name
                            type: object
                          type: array
                      type: object
                    title:
                      type: string
                  required:
                    - abstract
                    - authority
                    - dataEPSG
                    - keywords
                    - layers
                    - metadataIdentifier
                    - title
                  type: object
              required:
                - general
                - kubernetes
                - service
              type: object
            status:
              description: Status - The status for custom resources managed by the operator-sdk.
              properties:
                conditions:
                  items:
                    description: |-
                      Condition - the condition for the ansible operator
                      https://github.com/operator-framework/operator-sdk/blob/master/internal/ansible/controller/status/types.go#L101
                    properties:
                      ansibleResult:
                        description: ResultAnsible - encapsulation of the ansible result. 'AnsibleResult' is turned around in struct to comply with linting
                        properties:
                          changed:
                            type: integer
                          completion:
                            type: string
                          failures:
                            type: integer
                          ok:
                            type: integer
                          skipped:
                            type: integer
                        required:
                          - changed
                          - completion
                          - failures
                          - ok
                          - skipped
                        type: object
                      lastTransitionTime:
                        format: date-time
                        type: string
                      message:
                        type: string
                      reason:
                        type: string
                      status:
                        description: ConditionStatus specifies a string for field ConditionType
                        type: string
                      type:
                        description: ConditionType specifies a string for field ConditionType
                        type: string
                    required:
                      - lastTransitionTime
                      - message
                      - reason
                      - status
                      - type
                    type: object
                  type: array
                deployment:
                  type: string
                resources:
                  items:
                    description: Resources is the struct for the resources field within status
                    properties:
                      apiversion:
                        type: string
                      kind:
                        type: string
                      name:
                        type: string
                    type: object
                  type: array
              type: object
          type: object
      served: true
      storage: false
      subresources:
        status: {}
    - name: v3
      schema:
        openAPIV3Schema:
          description: WMS is the Schema for the wms API.
          properties:
            apiVersion:
              description: |-
                APIVersion defines the versioned schema of this representation of an object.
                Servers should convert recognized schemas to the latest internal value, and
                may reject unrecognized values.
                More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
              type: string
            kind:
              description: |-
                Kind is a string value representing the REST resource this object represents.
                Servers may infer this from the endpoint the client submits requests to.
                Cannot be updated.
                In CamelCase.
                More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
              type: string
            metadata:
              type: object
            spec:
              description: WMSSpec defines the desired state of WMS.
              properties:
                healthCheck:
                  description: Custom healthcheck options
                  properties:
                    boundingbox:
                      description: BBox defines a bounding box with coordinates
                      properties:
                        maxx:
                          description: Rechtsonder X coördinaat
                          pattern: ^-?[0-9]+([.][0-9]*)?$
                          type: string
                        maxy:
                          description: Rechtsonder Y coördinaat
                          pattern: ^-?[0-9]+([.][0-9]*)?$
                          type: string
                        minx:
                          description: Linksboven X coördinaat
                          pattern: ^-?[0-9]+([.][0-9]*)?$
                          type: string
                        miny:
                          description: Linksboven Y coördinaat
                          pattern: ^-?[0-9]+([.][0-9]*)?$
                          type: string
                      required:
                        - maxx
                        - maxy
                        - minx
                        - miny
                      type: object
                    mimetype:
                      pattern: (image/png|text/xml|text/html)
                      type: string
                    querystring:
                      type: string
                      x-kubernetes-validations:
                        - message: a valid healthcheck contains 'Service=WMS'
                          rule: self.contains('Service=WMS')
                        - message: a valid healthcheck contains 'Request='
                          rule: self.contains('Request=')
                  type: object
                  x-kubernetes-validations:
                    - message: mimetype is required when a querystring is used
                      rule: '!has(self.querystring) || has(self.mimetype)'
                    - message: healthcheck should have exactly 1 of querystring + mimetype or boundingbox
                      rule: (has(self.boundingbox) || has(self.querystring)) && !(has(self.querystring) && has(self.boundingbox))
                    - message: healthcheck should have exactly 1 of querystring + mimetype or boundingbox
                      rule: (has(self.boundingbox) || has(self.mimetype)) && !(has(self.mimetype) && has(self.boundingbox))
                horizontalPodAutoscalerPatch:
                  description: Optional specification for the HorizontalAutoscaler
                  properties:
                    behavior:
                      description: |-
                        HorizontalPodAutoscalerBehavior configures the scaling behavior of the target
                        in both Up and Down directions (scaleUp and scaleDown fields respectively).
                      properties:
                        scaleDown:
                          description: |-
                            scaleDown is scaling policy for scaling Down.
                            If not set, the default value is to allow to scale down to minReplicas pods, with a
                            300 second stabilization window (i.e., the highest recommendation for
                            the last 300sec is used).
                          properties:
                            policies:
                              description: |-
                                policies is a list of potential scaling polices which can be used during scaling.
                                If not set, use the default values:
                                - For scale up: allow doubling the number of pods, or an absolute change of 4 pods in a 15s window.
                                - For scale down: allow all pods to be removed in a 15s window.
                              items:
                                description: HPAScalingPolicy is a single policy which must hold true for a specified past interval.
                                properties:
                                  periodSeconds:
                                    description: |-
                                      periodSeconds specifies the window of time for which the policy should hold true.
                                      PeriodSeconds must be greater than zero and less than or equal to 1800 (30 min).
                                    format: int32
                                    type: integer
                                  type:
                                    description: type is used to specify the scaling policy.
                                    type: string
                                  value:
                                    description: |-
                                      value contains the amount of change which is permitted by the policy.
                                      It must be greater than zero
                                    format: int32
                                    type: integer
                                required:
                                  - periodSeconds
                                  - type
                                  - value
                                type: object
                              type: array
                              x-kubernetes-list-type: atomic
                            selectPolicy:
                              description: |-
                                selectPolicy is used to specify which policy should be used.
                                If not set, the default value Max is used.
                              type: string
                            stabilizationWindowSeconds:
                              description: |-
                                stabilizationWindowSeconds is the number of seconds for which past recommendations should be
                                considered while scaling up or scaling down.
                                StabilizationWindowSeconds must be greater than or equal to zero and less than or equal to 3600 (one hour).
                                If not set, use the default values:
                                - For scale up: 0 (i.e. no stabilization is done).
                                - For scale down: 300 (i.e. the stabilization window is 300 seconds long).
                              format: int32
                              type: integer
                            tolerance:
                              anyOf:
                                - type: integer
                                - type: string
                              description: |-
                                tolerance is the tolerance on the ratio between the current and desired
                                metric value under which no updates are made to the desired number of
                                replicas (e.g. 0.01 for 1%). Must be greater than or equal to zero. If not
                                set, the default cluster-wide tolerance is applied (by default 10%).

                                For example, if autoscaling is configured with a memory consumption target of 100Mi,
                                and scale-down and scale-up tolerances of 5% and 1% respectively, scaling will be
                                triggered when the actual consumption falls below 95Mi or exceeds 101Mi.

                                This is an alpha field and requires enabling the HPAConfigurableTolerance
                                feature gate.
                              pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                              x-kubernetes-int-or-string: true
                          type: object
                        scaleUp:
                          description: |-
                            scaleUp is scaling policy for scaling Up.
                            If not set, the default value is the higher of:
                              * increase no more than 4 pods per 60 seconds
                              * double the number of pods per 60 seconds
                            No stabilization is used.
                          properties:
                            policies:
                              description: |-
                                policies is a list of potential scaling polices which can be used during scaling.
                                If not set, use the default values:
                                - For scale up: allow doubling the number of pods, or an absolute change of 4 pods in a 15s window.
                                - For scale down: allow all pods to be removed in a 15s window.
                              items:
                                description: HPAScalingPolicy is a single policy which must hold true for a specified past interval.
                                properties:
                                  periodSeconds:
                                    description: |-
                                      periodSeconds specifies the window of time for which the policy should hold true.
                                      PeriodSeconds must be greater than zero and less than or equal to 1800 (30 min).
                                    format: int32
                                    type: integer
                                  type:
                                    description: type is used to specify the scaling policy.
                                    type: string
                                  value:
                                    description: |-
                                      value contains the amount of change which is permitted by the policy.
                                      It must be greater than zero
                                    format: int32
                                    type: integer
                                required:
                                  - periodSeconds
                                  - type
                                  - value
                                type: object
                              type: array
                              x-kubernetes-list-type: atomic
                            selectPolicy:
                              description: |-
                                selectPolicy is used to specify which policy should be used.
                                If not set, the default value Max is used.
                              type: string
                            stabilizationWindowSeconds:
                              description: |-
                                stabilizationWindowSeconds is the number of seconds for which past recommendations should be
                                considered while scaling up or scaling down.
                                StabilizationWindowSeconds must be greater than or equal to zero and less than or equal to 3600 (one hour).
                                If not set, use the default values:
                                - For scale up: 0 (i.e. no stabilization is done).
                                - For scale down: 300 (i.e. the stabilization window is 300 seconds long).
                              format: int32
                              type: integer
                            tolerance:
                              anyOf:
                                - type: integer
                                - type: string
                              description: |-
                                tolerance is the tolerance on the ratio between the current and desired
                                metric value under which no updates are made to the desired number of
                                replicas (e.g. 0.01 for 1%). Must be greater than or equal to zero. If not
                                set, the default cluster-wide tolerance is applied (by default 10%).

                                For example, if autoscaling is configured with a memory consumption target of 100Mi,
                                and scale-down and scale-up tolerances of 5% and 1% respectively, scaling will be
                                triggered when the actual consumption falls below 95Mi or exceeds 101Mi.

                                This is an alpha field and requires enabling the HPAConfigurableTolerance
                                feature gate.
                              pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                              x-kubernetes-int-or-string: true
                          type: object
                      type: object
                    maxReplicas:
                      format: int32
                      type: integer
                    metrics:
                      items:
                        description: |-
                          MetricSpec specifies how to scale based on a single metric
                          (only `type` and one other matching field should be set at once).
                        properties:
                          containerResource:
                            description: |-
                              containerResource refers to a resource metric (such as those specified in
                              requests and limits) known to Kubernetes describing a single container in
                              each pod of the current scale target (e.g. CPU or memory). Such metrics are
                              built in to Kubernetes, and have special scaling options on top of those
                              available to normal per-pod metrics using the "pods" source.
                            properties:
                              container:
                                description: container is the name of the container in the pods of the scaling target
                                type: string
                              name:
                                description: name is the name of the resource in question.
                                type: string
                              target:
                                description: target specifies the target value for the given metric
                                properties:
                                  averageUtilization:
                                    description: |-
                                      averageUtilization is the target value of the average of the
                                      resource metric across all relevant pods, represented as a percentage of
                                      the requested value of the resource for the pods.
                                      Currently only valid for Resource metric source type
                                    format: int32
                                    type: integer
                                  averageValue:
                                    anyOf:
                                      - type: integer
                                      - type: string
                                    description: |-
                                      averageValue is the target value of the average of the
                                      metric across all relevant pods (as a quantity)
                                    pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                    x-kubernetes-int-or-string: true
                                  type:
                                    description: type represents whether the metric type is Utilization, Value, or AverageValue
                                    type: string
                                  value:
                                    anyOf:
                                      - type: integer
                                      - type: string
                                    description: value is the target value of the metric (as a quantity).
                                    pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                    x-kubernetes-int-or-string: true
                                required:
                                  - type
                                type: object
                            required:
                              - container
                              - name
                              - target
                            type: object
                          external:
                            description: |-
                              external refers to a global metric that is not associated
                              with any Kubernetes object. It allows autoscaling based on information
                              coming from components running outside of cluster
                              (for example length of queue in cloud messaging service, or
                              QPS from loadbalancer running outside of cluster).
                            properties:
                              metric:
                                description: metric identifies the target metric by name and selector
                                properties:
                                  name:
                                    description: name is the name of the given metric
                                    type: string
                                  selector:
                                    description: |-
                                      selector is the string-encoded form of a standard kubernetes label selector for the given metric
                                      When set, it is passed as an additional parameter to the metrics server for more specific metrics scoping.
                                      When unset, just the metricName will be used to gather metrics.
                                    properties:
                                      matchExpressions:
                                        description: matchExpressions is a list of label selector requirements. The requirements are ANDed.
                                        items:
                                          description: |-
                                            A label selector requirement is a selector that contains values, a key, and an operator that
                                            relates the key and values.
                                          properties:
                                            key:
                                              description: key is the label key that the selector applies to.
                                              type: string
                                            operator:
                                              description: |-
                                                operator represents a key's relationship to a set of values.
                                                Valid operators are In, NotIn, Exists and DoesNotExist.
                                              type: string
                                            values:
                                              description: |-
                                                values is an array of string values. If the operator is In or NotIn,
                                                the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                the values array must be empty. This array is replaced during a strategic
                                                merge patch.
                                              items:
                                                type: string
                                              type: array
                                              x-kubernetes-list-type: atomic
                                          required:
                                            - key
                                            - operator
                                          type: object
                                        type: array
                                        x-kubernetes-list-type: atomic
                                      matchLabels:
                                        additionalProperties:
                                          type: string
                                        description: |-
                                          matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                          map is equivalent to an element of matchExpressions, whose key field is "key", the
                                          operator is "In", and the values array contains only "value". The requirements are ANDed.
                                        type: object
                                    type: object
                                    x-kubernetes-map-type: atomic
                                required:
                                  - name
                                type: object
                              target:
                                description: target specifies the target value for the given metric
                                properties:
                                  averageUtilization:
                                    description: |-
                                      averageUtilization is the target value of the average of the
                                      resource metric across all relevant pods, represented as a percentage of
                                      the requested value of the resource for the pods.
                                      Currently only valid for Resource metric source type
                                    format: int32
                                    type: integer
                                  averageValue:
                                    anyOf:
                                      - type: integer
                                      - type: string
                                    description: |-
                                      averageValue is the target value of the average of the
                                      metric across all relevant pods (as a quantity)
                                    pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                    x-kubernetes-int-or-string: true
                                  type:
                                    description: type represents whether the metric type is Utilization, Value, or AverageValue
                                    type: string
                                  value:
                                    anyOf:
                                      - type: integer
                                      - type: string
                                    description: value is the target value of the metric (as a quantity).
                                    pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                    x-kubernetes-int-or-string: true
                                required:
                                  - type
                                type: object
                            required:
                              - metric
                              - target
                            type: object
                          object:
                            description: |-
                              object refers to a metric describing a single kubernetes object
                              (for example, hits-per-second on an Ingress object).
                            properties:
                              describedObject:
                                description: describedObject specifies the descriptions of a object,such as kind,name apiVersion
                                properties:
                                  apiVersion:
                                    description: apiVersion is the API version of the referent
                                    type: string
                                  kind:
                                    description: 'kind is the kind of the referent; More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
                                    type: string
                                  name:
                                    description: 'name is the name of the referent; More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names'
                                    type: string
                                required:
                                  - kind
                                  - name
                                type: object
                              metric:
                                description: metric identifies the target metric by name and selector
                                properties:
                                  name:
                                    description: name is the name of the given metric
                                    type: string
                                  selector:
                                    description: |-
                                      selector is the string-encoded form of a standard kubernetes label selector for the given metric
                                      When set, it is passed as an additional parameter to the metrics server for more specific metrics scoping.
                                      When unset, just the metricName will be used to gather metrics.
                                    properties:
                                      matchExpressions:
                                        description: matchExpressions is a list of label selector requirements. The requirements are ANDed.
                                        items:
                                          description: |-
                                            A label selector requirement is a selector that contains values, a key, and an operator that
                                            relates the key and values.
                                          properties:
                                            key:
                                              description: key is the label key that the selector applies to.
                                              type: string
                                            operator:
                                              description: |-
                                                operator represents a key's relationship to a set of values.
                                                Valid operators are In, NotIn, Exists and DoesNotExist.
                                              type: string
                                            values:
                                              description: |-
                                                values is an array of string values. If the operator is In or NotIn,
                                                the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                the values array must be empty. This array is replaced during a strategic
                                                merge patch.
                                              items:
                                                type: string
                                              type: array
                                              x-kubernetes-list-type: atomic
                                          required:
                                            - key
                                            - operator
                                          type: object
                                        type: array
                                        x-kubernetes-list-type: atomic
                                      matchLabels:
                                        additionalProperties:
                                          type: string
                                        description: |-
                                          matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                          map is equivalent to an element of matchExpressions, whose key field is "key", the
                                          operator is "In", and the values array contains only "value". The requirements are ANDed.
                                        type: object
                                    type: object
                                    x-kubernetes-map-type: atomic
                                required:
                                  - name
                                type: object
                              target:
                                description: target specifies the target value for the given metric
                                properties:
                                  averageUtilization:
                                    description: |-
                                      averageUtilization is the target value of the average of the
                                      resource metric across all relevant pods, represented as a percentage of
                                      the requested value of the resource for the pods.
                                      Currently only valid for Resource metric source type
                                    format: int32
                                    type: integer
                                  averageValue:
                                    anyOf:
                                      - type: integer
                                      - type: string
                                    description: |-
                                      averageValue is the target value of the average of the
                                      metric across all relevant pods (as a quantity)
                                    pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                    x-kubernetes-int-or-string: true
                                  type:
                                    description: type represents whether the metric type is Utilization, Value, or AverageValue
                                    type: string
                                  value:
                                    anyOf:
                                      - type: integer
                                      - type: string
                                    description: value is the target value of the metric (as a quantity).
                                    pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                    x-kubernetes-int-or-string: true
                                required:
                                  - type
                                type: object
                            required:
                              - describedObject
                              - metric
                              - target
                            type: object
                          pods:
                            description: |-
                              pods refers to a metric describing each pod in the current scale target
                              (for example, transactions-processed-per-second).  The values will be
                              averaged together before being compared to the target value.
                            properties:
                              metric:
                                description: metric identifies the target metric by name and selector
                                properties:
                                  name:
                                    description: name is the name of the given metric
                                    type: string
                                  selector:
                                    description: |-
                                      selector is the string-encoded form of a standard kubernetes label selector for the given metric
                                      When set, it is passed as an additional parameter to the metrics server for more specific metrics scoping.
                                      When unset, just the metricName will be used to gather metrics.
                                    properties:
                                      matchExpressions:
                                        description: matchExpressions is a list of label selector requirements. The requirements are ANDed.
                                        items:
                                          description: |-
                                            A label selector requirement is a selector that contains values, a key, and an operator that
                                            relates the key and values.
                                          properties:
                                            key:
                                              description: key is the label key that the selector applies to.
                                              type: string
                                            operator:
                                              description: |-
                                                operator represents a key's relationship to a set of values.
                                                Valid operators are In, NotIn, Exists and DoesNotExist.
                                              type: string
                                            values:
                                              description: |-
                                                values is an array of string values. If the operator is In or NotIn,
                                                the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                the values array must be empty. This array is replaced during a strategic
                                                merge patch.
                                              items:
                                                type: string
                                              type: array
                                              x-kubernetes-list-type: atomic
                                          required:
                                            - key
                                            - operator
                                          type: object
                                        type: array
                                        x-kubernetes-list-type: atomic
                                      matchLabels:
                                        additionalProperties:
                                          type: string
                                        description: |-
                                          matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                          map is equivalent to an element of matchExpressions, whose key field is "key", the
                                          operator is "In", and the values array contains only "value". The requirements are ANDed.
                                        type: object
                                    type: object
                                    x-kubernetes-map-type: atomic
                                required:
                                  - name
                                type: object
                              target:
                                description: target specifies the target value for the given metric
                                properties:
                                  averageUtilization:
                                    description: |-
                                      averageUtilization is the target value of the average of the
                                      resource metric across all relevant pods, represented as a percentage of
                                      the requested value of the resource for the pods.
                                      Currently only valid for Resource metric source type
                                    format: int32
                                    type: integer
                                  averageValue:
                                    anyOf:
                                      - type: integer
                                      - type: string
                                    description: |-
                                      averageValue is the target value of the average of the
                                      metric across all relevant pods (as a quantity)
                                    pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                    x-kubernetes-int-or-string: true
                                  type:
                                    description: type represents whether the metric type is Utilization, Value, or AverageValue
                                    type: string
                                  value:
                                    anyOf:
                                      - type: integer
                                      - type: string
                                    description: value is the target value of the metric (as a quantity).
                                    pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                    x-kubernetes-int-or-string: true
                                required:
                                  - type
                                type: object
                            required:
                              - metric
                              - target
                            type: object
                          resource:
                            description: |-
                              resource refers to a resource metric (such as those specified in
                              requests and limits) known to Kubernetes describing each pod in the
                              current scale target (e.g. CPU or memory). Such metrics are built in to
                              Kubernetes, and have special scaling options on top of those available
                              to normal per-pod metrics using the "pods" source.
                            properties:
                              name:
                                description: name is the name of the resource in question.
                                type: string
                              target:
                                description: target specifies the target value for the given metric
                                properties:
                                  averageUtilization:
                                    description: |-
                                      averageUtilization is the target value of the average of the
                                      resource metric across all relevant pods, represented as a percentage of
                                      the requested value of the resource for the pods.
                                      Currently only valid for Resource metric source type
                                    format: int32
                                    type: integer
                                  averageValue:
                                    anyOf:
                                      - type: integer
                                      - type: string
                                    description: |-
                                      averageValue is the target value of the average of the
                                      metric across all relevant pods (as a quantity)
                                    pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                    x-kubernetes-int-or-string: true
                                  type:
                                    description: type represents whether the metric type is Utilization, Value, or AverageValue
                                    type: string
                                  value:
                                    anyOf:
                                      - type: integer
                                      - type: string
                                    description: value is the target value of the metric (as a quantity).
                                    pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                    x-kubernetes-int-or-string: true
                                required:
                                  - type
                                type: object
                            required:
                              - name
                              - target
                            type: object
                          type:
                            description: |-
                              type is the type of metric source.  It should be one of "ContainerResource", "External",
                              "Object", "Pods" or "Resource", each mapping to a matching field in the object.
                            type: string
                        required:
                          - type
                        type: object
                      type: array
                    minReplicas:
                      format: int32
                      type: integer
                  type: object
                ingressRouteUrls:
                  description: |-
                    Optional list of URLs where the service can be reached
                    By default only the spec.service.url is used
                  items:
                    properties:
                      url:
                        pattern: ^https?://.+/.+
                        type: string
                    required:
                      - url
                    type: object
                  maxItems: 30
                  minItems: 1
                  type: array
                lifecycle:
                  description: Optional lifecycle settings
                  properties:
                    ttlInDays:
                      format: int32
                      type: integer
                  type: object
                options:
                  description: Optional options for the configuration of the service.
                  properties:
                    automaticCasing:
                      default: true
                      description: AutomaticCasing enables automatic conversion from snake_case to camelCase.
                      type: boolean
                    disableWebserviceProxy:
                      default: false
                      description: DisableWebserviceProxy disables the built-in proxy for external web services.
                      type: boolean
                    includeIngress:
                      default: true
                      description: IncludeIngress dictates whether to deploy an Ingress or ensure none exists.
                      type: boolean
                    prefetchData:
                      default: true
                      description: |-
                        Whether to prefetch data from blob storage, and store it on the local filesystem.
                        If `false`, the data will be served directly out of blob storage
                      type: boolean
                    rewriteGroupToDataLayers:
                      default: false
                      description: RewriteGroupToDataLayers merges group layers into individual data layers.
                      type: boolean
                    validateChildStyleNameEqual:
                      default: false
                      description: ValidateChildStyleNameEqual ensures child style names match the parent style.
                      type: boolean
                    validateRequests:
                      default: true
                      description: ValidateRequests enables request validation against the service schema.
                      type: boolean
                  required:
                    - automaticCasing
                    - disableWebserviceProxy
                    - includeIngress
                    - prefetchData
                    - rewriteGroupToDataLayers
                    - validateChildStyleNameEqual
                    - validateRequests
                  type: object
                podSpecPatch:
                  description: Strategic merge patch for the pod in the deployment. E.g. to patch the resources or add extra env vars.
                  type: object
                  x-kubernetes-preserve-unknown-fields: true
                service:
                  description: Service specification
                  properties:
                    abstract:
                      description: Service abstract
                      minLength: 1
                      type: string
                    accessConstraints:
                      default: https://creativecommons.org/publicdomain/zero/1.0/deed.nl
                      description: AccessConstraints URL
                      pattern: ^https?://.+/.+
                      type: string
                    dataEPSG:
                      description: CRS of the data
                      pattern: (EPSG|CRS):\d+
                      type: string
                    defResolution:
                      description: 'Mapfile setting: Sets the DEFRESOLUTION field in the mapfile, not used when service.mapfile is configured'
                      format: int32
                      type: integer
                    fees:
                      description: Optional Fees
                      minLength: 1
                      type: string
                    inspire:
                      description: Config for Inspire services
                      properties:
                        language:
                          description: Language of the INSPIRE metadata record
                          pattern: bul|cze|dan|dut|eng|est|fin|fre|ger|gre|hun|gle|ita|lav|lit|mlt|pol|por|rum|slo|slv|spa|swe
                          type: string
                        serviceMetadataUrl:
                          description: ServiceMetadataURL references the CSW or custom metadata record.
                          properties:
                            csw:
                              description: CSW describes a metadata record via a metadataIdentifier (UUID) as defined in the OwnerInfo.
                              properties:
                                metadataIdentifier:
                                  description: MetadataIdentifier is the record's UUID
                                  pattern: ^[0-9a-zA-Z]{8}\-[0-9a-zA-Z]{4}\-[0-9a-zA-Z]{4}\-[0-9a-zA-Z]{4}\-[0-9a-zA-Z]{12}$
                                  type: string
                              required:
                                - metadataIdentifier
                              type: object
                            custom:
                              description: Custom allows arbitrary href
                              properties:
                                href:
                                  description: Href of the custom metadata url
                                  pattern: ^https?://.+/.+
                                  type: string
                                type:
                                  description: MIME type of the custom link
                                  minLength: 1
                                  type: string
                              required:
                                - href
                                - type
                              type: object
                          type: object
                          x-kubernetes-validations:
                            - message: metadataUrl should have exactly 1 of csw or custom
                              rule: (has(self.csw) || has(self.custom)) && !(has(self.csw) && has(self.custom))
                      required:
                        - language
                        - serviceMetadataUrl
                      type: object
                    keywords:
                      description: Keywords for capabilities
                      items:
                        minLength: 1
                        type: string
                      minItems: 1
                      type: array
                    layer:
                      description: Toplayer
                      properties:
                        abstract:
                          description: Abstract of the layer
                          minLength: 1
                          type: string
                        authority:
                          properties:
                            name:
                              type: string
                            spatialDatasetIdentifier:
                              type: string
                            url:
                              type: string
                          required:
                            - name
                            - spatialDatasetIdentifier
                            - url
                          type: object
                        boundingBoxes:
                          description: BoundingBoxes of the layer. If omitted the boundingboxes of the parent layer of the service is used.
                          items:
                            properties:
                              bbox:
                                description: BBox defines a bounding box with coordinates
                                properties:
                                  maxx:
                                    description: Rechtsonder X coördinaat
                                    pattern: ^-?[0-9]+([.][0-9]*)?$
                                    type: string
                                  maxy:
                                    description: Rechtsonder Y coördinaat
                                    pattern: ^-?[0-9]+([.][0-9]*)?$
                                    type: string
                                  minx:
                                    description: Linksboven X coördinaat
                                    pattern: ^-?[0-9]+([.][0-9]*)?$
                                    type: string
                                  miny:
                                    description: Linksboven Y coördinaat
                                    pattern: ^-?[0-9]+([.][0-9]*)?$
                                    type: string
                                required:
                                  - maxx
                                  - maxy
                                  - minx
                                  - miny
                                type: object
                              crs:
                                type: string
                            required:
                              - bbox
                              - crs
                            type: object
                          minItems: 1
                          type: array
                        datasetMetadataUrl:
                          description: Links to metadata
                          properties:
                            csw:
                              description: CSW describes a metadata record via a metadataIdentifier (UUID) as defined in the OwnerInfo.
                              properties:
                                metadataIdentifier:
                                  description: MetadataIdentifier is the record's UUID
                                  pattern: ^[0-9a-zA-Z]{8}\-[0-9a-zA-Z]{4}\-[0-9a-zA-Z]{4}\-[0-9a-zA-Z]{4}\-[0-9a-zA-Z]{12}$
                                  type: string
                              required:
                                - metadataIdentifier
                              type: object
                            custom:
                              description: Custom allows arbitrary href
                              properties:
                                href:
                                  description: Href of the custom metadata url
                                  pattern: ^https?://.+/.+
                                  type: string
                                type:
                                  description: MIME type of the custom link
                                  minLength: 1
                                  type: string
                              required:
                                - href
                                - type
                              type: object
                          type: object
                          x-kubernetes-validations:
                            - message: metadataUrl should have exactly 1 of csw or custom
                              rule: (has(self.csw) || has(self.custom)) && !(has(self.csw) && has(self.custom))
                        keywords:
                          description: Keywords of the layer, required if the layer is visible
                          items:
                            minLength: 1
                            type: string
                          minItems: 1
                          type: array
                        layers:
                          description: '[OpenAPI spec injected by mapserver-operator/cmd/update_openapi.go]'
                          items:
                            description: Toplayer
                            properties:
                              abstract:
                                description: Abstract of the layer
                                minLength: 1
                                type: string
                              authority:
                                properties:
                                  name:
                                    type: string
                                  spatialDatasetIdentifier:
                                    type: string
                                  url:
                                    type: string
                                required:
                                  - name
                                  - spatialDatasetIdentifier
                                  - url
                                type: object
                              boundingBoxes:
                                description: BoundingBoxes of the layer. If omitted the boundingboxes of the parent layer of the service is used.
                                items:
                                  properties:
                                    bbox:
                                      description: BBox defines a bounding box with coordinates
                                      properties:
                                        maxx:
                                          description: Rechtsonder X coördinaat
                                          pattern: ^-?[0-9]+([.][0-9]*)?$
                                          type: string
                                        maxy:
                                          description: Rechtsonder Y coördinaat
                                          pattern: ^-?[0-9]+([.][0-9]*)?$
                                          type: string
                                        minx:
                                          description: Linksboven X coördinaat
                                          pattern: ^-?[0-9]+([.][0-9]*)?$
                                          type: string
                                        miny:
                                          description: Linksboven Y coördinaat
                                          pattern: ^-?[0-9]+([.][0-9]*)?$
                                          type: string
                                      required:
                                        - maxx
                                        - maxy
                                        - minx
                                        - miny
                                      type: object
                                    crs:
                                      type: string
                                  required:
                                    - bbox
                                    - crs
                                  type: object
                                minItems: 1
                                type: array
                              data:
                                description: Data (gpkg/postgis/tif) used by the layer
                                properties:
                                  gpkg:
                                    description: Gpkg configures a GeoPackage file source
                                    properties:
                                      blobKey:
                                        description: Blobkey identifies the location/bucket of the .gpkg file
                                        pattern: ^.+\/.+\/.+\.gpkg$
                                        type: string
                                      columns:
                                        description: Columns to visualize for this table
                                        items:
                                          description: Column maps a source column name to an optional alias for output.
                                          properties:
                                            alias:
                                              description: Alias for the column in the service output.
                                              minLength: 1
                                              type: string
                                            name:
                                              description: Name of the column in the data source.
                                              minLength: 1
                                              type: string
                                          required:
                                            - name
                                          type: object
                                        minItems: 1
                                        type: array
                                      geometryType:
                                        description: GeometryType of the table, must match an OGC type
                                        pattern: ^(Multi)?(Point|LineString|Polygon)$
                                        type: string
                                      tableName:
                                        description: TableName is the table within the geopackage
                                        minLength: 1
                                        type: string
                                    required:
                                      - blobKey
                                      - columns
                                      - geometryType
                                      - tableName
                                    type: object
                                  postgis:
                                    description: Postgis configures a Postgis table source
                                    properties:
                                      columns:
                                        description: Columns to expose from table
                                        items:
                                          description: Column maps a source column name to an optional alias for output.
                                          properties:
                                            alias:
                                              description: Alias for the column in the service output.
                                              minLength: 1
                                              type: string
                                            name:
                                              description: Name of the column in the data source.
                                              minLength: 1
                                              type: string
                                          required:
                                            - name
                                          type: object
                                        minItems: 1
                                        type: array
                                      geometryType:
                                        description: GeometryType of the table
                                        pattern: ^(Multi)?(Point|LineString|Polygon)$
                                        type: string
                                      tableName:
                                        description: TableName in postGIS
                                        minLength: 1
                                        type: string
                                    required:
                                      - columns
                                      - geometryType
                                      - tableName
                                    type: object
                                  tif:
                                    description: TIF configures a GeoTIF raster source
                                    properties:
                                      blobKey:
                                        description: BlobKey to the TIFF file
                                        pattern: ^.+\/.+\/.+\.(tif?f|vrt)$
                                        type: string
                                      getFeatureInfoIncludesClass:
                                        default: false
                                        description: '"When a band represents nominal or ordinal data the class name (from styling) can be included in the getFeatureInfo"'
                                        type: boolean
                                      offsite:
                                        description: Sets the color index to treat as transparent for raster layers, optional, hex or rgb
                                        pattern: (#[0-9A-F]{6}([0-9A-F]{2})?)|([0-9]{1,3}\s[0-9]{1,3}\s[0-9]{1,3})
                                        type: string
                                      resample:
                                        default: NEAREST
                                        description: This option can be used to control the resampling kernel used sampling raster images, optional
                                        pattern: (NEAREST|AVERAGE|BILINEAR)
                                        type: string
                                    required:
                                      - blobKey
                                    type: object
                                type: object
                                x-kubernetes-validations:
                                  - message: Atleast one of the datasource should be provided (postgis, gpkg, tif)
                                    rule: has(self.gpkg) || has(self.tif) || has(self.postgis)
                              datasetMetadataUrl:
                                description: Links to metadata
                                properties:
                                  csw:
                                    description: CSW describes a metadata record via a metadataIdentifier (UUID) as defined in the OwnerInfo.
                                    properties:
                                      metadataIdentifier:
                                        description: MetadataIdentifier is the record's UUID
                                        pattern: ^[0-9a-zA-Z]{8}\-[0-9a-zA-Z]{4}\-[0-9a-zA-Z]{4}\-[0-9a-zA-Z]{4}\-[0-9a-zA-Z]{12}$
                                        type: string
                                    required:
                                      - metadataIdentifier
                                    type: object
                                  custom:
                                    description: Custom allows arbitrary href
                                    properties:
                                      href:
                                        description: Href of the custom metadata url
                                        pattern: ^https?://.+/.+
                                        type: string
                                      type:
                                        description: MIME type of the custom link
                                        minLength: 1
                                        type: string
                                    required:
                                      - href
                                      - type
                                    type: object
                                type: object
                                x-kubernetes-validations:
                                  - message: metadataUrl should have exactly 1 of csw or custom
                                    rule: (has(self.csw) || has(self.custom)) && !(has(self.csw) && has(self.custom))
                              keywords:
                                description: Keywords of the layer, required if the layer is visible
                                items:
                                  minLength: 1
                                  type: string
                                minItems: 1
                                type: array
                              labelNoClip:
                                description: Mapfile setting, sets "LABEL_NO_CLIP=ON"
                                type: boolean
                              layers:
                                description: '[OpenAPI spec injected by mapserver-operator/cmd/update_openapi.go]'
                                items:
                                  description: Toplayer
                                  properties:
                                    abstract:
                                      description: Abstract of the layer
                                      minLength: 1
                                      type: string
                                    authority:
                                      properties:
                                        name:
                                          type: string
                                        spatialDatasetIdentifier:
                                          type: string
                                        url:
                                          type: string
                                      required:
                                        - name
                                        - spatialDatasetIdentifier
                                        - url
                                      type: object
                                    boundingBoxes:
                                      description: BoundingBoxes of the layer. If omitted the boundingboxes of the parent layer of the service is used.
                                      items:
                                        properties:
                                          bbox:
                                            description: BBox defines a bounding box with coordinates
                                            properties:
                                              maxx:
                                                description: Rechtsonder X coördinaat
                                                pattern: ^-?[0-9]+([.][0-9]*)?$
                                                type: string
                                              maxy:
                                                description: Rechtsonder Y coördinaat
                                                pattern: ^-?[0-9]+([.][0-9]*)?$
                                                type: string
                                              minx:
                                                description: Linksboven X coördinaat
                                                pattern: ^-?[0-9]+([.][0-9]*)?$
                                                type: string
                                              miny:
                                                description: Linksboven Y coördinaat
                                                pattern: ^-?[0-9]+([.][0-9]*)?$
                                                type: string
                                            required:
                                              - maxx
                                              - maxy
                                              - minx
                                              - miny
                                            type: object
                                          crs:
                                            type: string
                                        required:
                                          - bbox
                                          - crs
                                        type: object
                                      minItems: 1
                                      type: array
                                    data:
                                      description: Data (gpkg/postgis/tif) used by the layer
                                      properties:
                                        gpkg:
                                          description: Gpkg configures a GeoPackage file source
                                          properties:
                                            blobKey:
                                              description: Blobkey identifies the location/bucket of the .gpkg file
                                              pattern: ^.+\/.+\/.+\.gpkg$
                                              type: string
                                            columns:
                                              description: Columns to visualize for this table
                                              items:
                                                description: Column maps a source column name to an optional alias for output.
                                                properties:
                                                  alias:
                                                    description: Alias for the column in the service output.
                                                    minLength: 1
                                                    type: string
                                                  name:
                                                    description: Name of the column in the data source.
                                                    minLength: 1
                                                    type: string
                                                required:
                                                  - name
                                                type: object
                                              minItems: 1
                                              type: array
                                            geometryType:
                                              description: GeometryType of the table, must match an OGC type
                                              pattern: ^(Multi)?(Point|LineString|Polygon)$
                                              type: string
                                            tableName:
                                              description: TableName is the table within the geopackage
                                              minLength: 1
                                              type: string
                                          required:
                                            - blobKey
                                            - columns
                                            - geometryType
                                            - tableName
                                          type: object
                                        postgis:
                                          description: Postgis configures a Postgis table source
                                          properties:
                                            columns:
                                              description: Columns to expose from table
                                              items:
                                                description: Column maps a source column name to an optional alias for output.
                                                properties:
                                                  alias:
                                                    description: Alias for the column in the service output.
                                                    minLength: 1
                                                    type: string
                                                  name:
                                                    description: Name of the column in the data source.
                                                    minLength: 1
                                                    type: string
                                                required:
                                                  - name
                                                type: object
                                              minItems: 1
                                              type: array
                                            geometryType:
                                              description: GeometryType of the table
                                              pattern: ^(Multi)?(Point|LineString|Polygon)$
                                              type: string
                                            tableName:
                                              description: TableName in postGIS
                                              minLength: 1
                                              type: string
                                          required:
                                            - columns
                                            - geometryType
                                            - tableName
                                          type: object
                                        tif:
                                          description: TIF configures a GeoTIF raster source
                                          properties:
                                            blobKey:
                                              description: BlobKey to the TIFF file
                                              pattern: ^.+\/.+\/.+\.(tif?f|vrt)$
                                              type: string
                                            getFeatureInfoIncludesClass:
                                              default: false
                                              description: '"When a band represents nominal or ordinal data the class name (from styling) can be included in the getFeatureInfo"'
                                              type: boolean
                                            offsite:
                                              description: Sets the color index to treat as transparent for raster layers, optional, hex or rgb
                                              pattern: (#[0-9A-F]{6}([0-9A-F]{2})?)|([0-9]{1,3}\s[0-9]{1,3}\s[0-9]{1,3})
                                              type: string
                                            resample:
                                              default: NEAREST
                                              description: This option can be used to control the resampling kernel used sampling raster images, optional
                                              pattern: (NEAREST|AVERAGE|BILINEAR)
                                              type: string
                                          required:
                                            - blobKey
                                          type: object
                                      type: object
                                      x-kubernetes-validations:
                                        - message: Atleast one of the datasource should be provided (postgis, gpkg, tif)
                                          rule: has(self.gpkg) || has(self.tif) || has(self.postgis)
                                    datasetMetadataUrl:
                                      description: Links to metadata
                                      properties:
                                        csw:
                                          description: CSW describes a metadata record via a metadataIdentifier (UUID) as defined in the OwnerInfo.
                                          properties:
                                            metadataIdentifier:
                                              description: MetadataIdentifier is the record's UUID
                                              pattern: ^[0-9a-zA-Z]{8}\-[0-9a-zA-Z]{4}\-[0-9a-zA-Z]{4}\-[0-9a-zA-Z]{4}\-[0-9a-zA-Z]{12}$
                                              type: string
                                          required:
                                            - metadataIdentifier
                                          type: object
                                        custom:
                                          description: Custom allows arbitrary href
                                          properties:
                                            href:
                                              description: Href of the custom metadata url
                                              pattern: ^https?://.+/.+
                                              type: string
                                            type:
                                              description: MIME type of the custom link
                                              minLength: 1
                                              type: string
                                          required:
                                            - href
                                            - type
                                          type: object
                                      type: object
                                      x-kubernetes-validations:
                                        - message: metadataUrl should have exactly 1 of csw or custom
                                          rule: (has(self.csw) || has(self.custom)) && !(has(self.csw) && has(self.custom))
                                    keywords:
                                      description: Keywords of the layer, required if the layer is visible
                                      items:
                                        minLength: 1
                                        type: string
                                      minItems: 1
                                      type: array
                                    labelNoClip:
                                      description: Mapfile setting, sets "LABEL_NO_CLIP=ON"
                                      type: boolean
                                    maxscaledenominator:
                                      description: The maximum scale at which this layer functions
                                      pattern: ^[1-9][0-9]*(.[0-9]+)?$
                                      type: string
                                    minscaledenominator:
                                      description: The minimum scale at which this layer functions
                                      pattern: ^[0-9]+(.[0-9]+)?$
                                      type: string
                                    name:
                                      description: Name of the layer, required for layers on the 2nd or 3rd level
                                      minLength: 1
                                      type: string
                                    styles:
                                      description: List of styles used by the layer
                                      items:
                                        properties:
                                          abstract:
                                            minLength: 1
                                            type: string
                                          legend:
                                            properties:
                                              blobKey:
                                                description: Location of the legend on the blobstore
                                                minLength: 1
                                                type: string
                                              format:
                                                default: image/png
                                                description: Format of the legend, defaults to image/png
                                                type: string
                                              height:
                                                description: The height of the legend in px, defaults to 20
                                                format: int32
                                                type: integer
                                              width:
                                                description: The width of the legend in px, defaults to 78
                                                format: int32
                                                type: integer
                                            required:
                                              - blobKey
                                            type: object
                                          name:
                                            minLength: 1
                                            type: string
                                          title:
                                            minLength: 1
                                            type: string
                                          visualization:
                                            minLength: 1
                                            type: string
                                        required:
                                          - name
                                        type: object
                                      minItems: 1
                                      type: array
                                    title:
                                      description: Title of the layer
                                      minLength: 1
                                      type: string
                                    visible:
                                      default: true
                                      description: Whether or not the layer is visible. At least one of the layers must be visible.
                                      type: boolean
                                  required:
                                    - name
                                  type: object
                                  x-kubernetes-validations:
                                    - message: A layer with data attribute should have styling
                                      rule: '!has(self.data) || has(self.styles)'
                                    - message: A layer should have keywords when visible
                                      rule: '!self.visible || has(self.keywords)'
                                    - message: A layer should have a title when visible
                                      rule: '!self.visible || has(self.title)'
                                    - message: A layer should have an abstract when visible
                                      rule: '!self.visible || has(self.abstract)'
                                minItems: 1
                                type: array
                              maxscaledenominator:
                                description: The maximum scale at which this layer functions
                                pattern: ^[1-9][0-9]*(.[0-9]+)?$
                                type: string
                              minscaledenominator:
                                description: The minimum scale at which this layer functions
                                pattern: ^[0-9]+(.[0-9]+)?$
                                type: string
                              name:
                                description: Name of the layer, required for layers on the 2nd or 3rd level
                                minLength: 1
                                type: string
                              styles:
                                description: List of styles used by the layer
                                items:
                                  properties:
                                    abstract:
                                      minLength: 1
                                      type: string
                                    legend:
                                      properties:
                                        blobKey:
                                          description: Location of the legend on the blobstore
                                          minLength: 1
                                          type: string
                                        format:
                                          default: image/png
                                          description: Format of the legend, defaults to image/png
                                          type: string
                                        height:
                                          description: The height of the legend in px, defaults to 20
                                          format: int32
                                          type: integer
                                        width:
                                          description: The width of the legend in px, defaults to 78
                                          format: int32
                                          type: integer
                                      required:
                                        - blobKey
                                      type: object
                                    name:
                                      minLength: 1
                                      type: string
                                    title:
                                      minLength: 1
                                      type: string
                                    visualization:
                                      minLength: 1
                                      type: string
                                  required:
                                    - name
                                  type: object
                                minItems: 1
                                type: array
                              title:
                                description: Title of the layer
                                minLength: 1
                                type: string
                              visible:
                                default: true
                                description: Whether or not the layer is visible. At least one of the layers must be visible.
                                type: boolean
                            required:
                              - name
                            type: object
                            x-kubernetes-validations:
                              - message: A layer should have exactly one of sublayers or data
                                rule: (has(self.data) || has(self.layers)) && !(has(self.data) && has(self.layers))
                              - message: A layer with data attribute should have styling
                                rule: '!has(self.data) || has(self.styles)'
                              - message: A layer should have keywords when visible
                                rule: '!self.visible || has(self.keywords)'
                              - message: A layer should have a title when visible
                                rule: '!self.visible || has(self.title)'
                              - message: A layer should have an abstract when visible
                                rule: '!self.visible || has(self.abstract)'
                          minItems: 1
                          type: array
                        maxscaledenominator:
                          description: The maximum scale at which this layer functions
                          pattern: ^[1-9][0-9]*(.[0-9]+)?$
                          type: string
                        minscaledenominator:
                          description: The minimum scale at which this layer functions
                          pattern: ^[0-9]+(.[0-9]+)?$
                          type: string
                        name:
                          description: Name of the layer, required for layers on the 2nd or 3rd level
                          minLength: 1
                          type: string
                        styles:
                          description: List of styles used by the layer
                          items:
                            properties:
                              abstract:
                                minLength: 1
                                type: string
                              legend:
                                properties:
                                  blobKey:
                                    description: Location of the legend on the blobstore
                                    minLength: 1
                                    type: string
                                  format:
                                    default: image/png
                                    description: Format of the legend, defaults to image/png
                                    type: string
                                  height:
                                    description: The height of the legend in px, defaults to 20
                                    format: int32
                                    type: integer
                                  width:
                                    description: The width of the legend in px, defaults to 78
                                    format: int32
                                    type: integer
                                required:
                                  - blobKey
                                type: object
                              name:
                                minLength: 1
                                type: string
                              title:
                                minLength: 1
                                type: string
                              visualization:
                                minLength: 1
                                type: string
                            required:
                              - name
                            type: object
                          minItems: 1
                          type: array
                        title:
                          description: Title of the layer
                          minLength: 1
                          type: string
                        visible:
                          default: true
                          description: Whether or not the layer is visible. At least one of the layers must be visible.
                          type: boolean
                      required:
                        - title
                        - abstract
                        - keywords
                        - layers
                      type: object
                      x-kubernetes-validations:
                        - fieldPath: .visible
                          message: TopLayer must be visible
                          rule: self.visible
                    mapfile:
                      description: External Mapfile reference
                      properties:
                        configMapKeyRef:
                          description: Selects a key from a ConfigMap.
                          properties:
                            key:
                              description: The key to select.
                              type: string
                            name:
                              description: Name of the referent.
                              type: string
                            optional:
                              description: Specify whether the ConfigMap or its key must be defined
                              type: boolean
                          required:
                            - key
                            - name
                          type: object
                          x-kubernetes-map-type: atomic
                      required:
                        - configMapKeyRef
                      type: object
                    maxSize:
                      description: 'Mapfile setting: Sets the maximum size (in pixels) for both dimensions of the image from a getMap request.'
                      format: int32
                      minimum: 1
                      type: integer
                    ownerInfoRef:
                      description: Reference to OwnerInfo CR
                      minLength: 1
                      type: string
                    prefix:
                      description: Geonovum subdomein
                      minLength: 1
                      type: string
                    resolution:
                      description: 'Mapfile setting: Sets the RESOLUTION field in the mapfile, not used when service.mapfile is configured'
                      format: int32
                      type: integer
                    stylingAssets:
                      description: Optional. Required files for the styling of the service
                      properties:
                        blobKeys:
                          description: 'BlobKeys contains symbol image (.png/.svg) or font (.ttf) keys on blob storage, format: container/key/file.(png|ttf)'
                          items:
                            pattern: ^.+\/.+\/.+\.(png|ttf|svg)$
                            type: string
                          minItems: 1
                          type: array
                        configMapRefs:
                          items:
                            properties:
                              keys:
                                description: Keys contains styling assets that contain mapfile code (.style|.symbol), required if you use symbols in your styles
                                items:
                                  pattern: ^\S*.\.(style|symbol)
                                  type: string
                                minItems: 1
                                type: array
                              name:
                                description: Name is the name of the ConfigMap
                                minLength: 1
                                type: string
                            required:
                              - name
                            type: object
                          minItems: 1
                          type: array
                      type: object
                      x-kubernetes-validations:
                        - message: At least one of blobKeys or configMapRefs is required
                          rule: has(self.blobKeys) || has(self.configMapRefs)
                    title:
                      description: Service title
                      minLength: 1
                      type: string
                    url:
                      description: URL of the service
                      pattern: ^https?://.+/.+
                      type: string
                  required:
                    - abstract
                    - dataEPSG
                    - keywords
                    - layer
                    - ownerInfoRef
                    - prefix
                    - title
                    - url
                  type: object
              required:
                - podSpecPatch
                - service
              type: object
              x-kubernetes-validations:
                - messageExpression: '''ingressRouteUrls should include service.url ''+self.service.url'
                  rule: '!has(self.ingressRouteUrls) || self.ingressRouteUrls.exists_one(x, x.url == self.service.url)'
            status:
              description: OperatorStatus defines the observed state of an Atom/WFS/WMS/....
              properties:
                conditions:
                  description: |-
                    Each condition contains details for one aspect of the current state of this Atom.
                    Known .status.conditions.type are: "Reconciled"
                  items:
                    description: Condition contains details for one aspect of the current state of this API Resource.
                    properties:
                      lastTransitionTime:
                        description: |-
                          lastTransitionTime is the last time the condition transitioned from one status to another.
                          This should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.
                        format: date-time
                        type: string
                      message:
                        description: |-
                          message is a human readable message indicating details about the transition.
                          This may be an empty string.
                        maxLength: 32768
                        type: string
                      observedGeneration:
                        description: |-
                          observedGeneration represents the .metadata.generation that the condition was set based upon.
                          For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date
                          with respect to the current state of the instance.
                        format: int64
                        minimum: 0
                        type: integer
                      reason:
                        description: |-
                          reason contains a programmatic identifier indicating the reason for the condition's last transition.
                          Producers of specific condition types may define expected values and meanings for this field,
                          and whether the values are considered a guaranteed API.
                          The value should be a CamelCase string.
                          This field may not be empty.
                        maxLength: 1024
                        minLength: 1
                        pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                        type: string
                      status:
                        description: status of the condition, one of True, False, Unknown.
                        enum:
                          - "True"
                          - "False"
                          - Unknown
                        type: string
                      type:
                        description: type of condition in CamelCase or in foo.example.com/CamelCase.
                        maxLength: 316
                        pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                        type: string
                    required:
                      - lastTransitionTime
                      - message
                      - reason
                      - status
                      - type
                    type: object
                  type: array
                operationResults:
                  additionalProperties:
                    description: OperationResult is the action result of a CreateOrUpdate or CreateOrPatch call.
                    type: string
                  description: The result of creating or updating of each derived resource for this Atom.
                  type: object
              type: object
          required:
            - spec
          type: object
      served: true
      storage: true
      subresources:
        status: {}
